dist:     trusty
sudo:     required

language: cpp

os:
  - linux

compiler:
  - gcc

addons:
  apt:
    update: true
    packages:
      - cmake
      - cppcheck
      - valgrind

script:
  - mkdir build
  - cd build
  - cmake ..
  - cmake --build .
  - ctest .
  - cppcheck -q --enable=all ../src
  - valgrind --tool=memcheck --leak-check=full ./tests